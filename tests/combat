#!/usr/bin/perl
#
# dicerolls
#
# ---   *   ---   *   ---

# deps

  use v5.36.0;
  use strict;
  use warnings;

  use Time::HiRes qw(usleep);
  use English qw(-no_match_vars);

  use lib $ENV{'ARPATH'}.'/lib/sys/';
  use Style;

  use lib $ENV{'ARPATH'}.'/lib/';
  use GF::Icon;
  use GF::Mode::ANSI;

  use lib $ENV{'ARPATH'}.'/THRONE/';
  use RPG::Bar;

# ---   *   ---   *   ---

my $f     = GF::Mode::ANSI->new_frame();

my $x     = RPG::Bar->new(max=>100,rate=>8);
my $color = $f->truecolor($x->{color});

while(! $x->{stop}) {

  $x->damage();

  my @bar = $x->update();
  my $y   = 29 - $#bar;

  map {
    print {*STDOUT} "\e[${y}H$color$ARG\e[0m";
    $y++;

  } @bar;

  STDOUT->flush();

  usleep(10000);

};

say $NULLSTR;


# ---   *   ---   *   ---
1; # ret
